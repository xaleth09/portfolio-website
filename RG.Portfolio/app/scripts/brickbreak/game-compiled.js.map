{"version":3,"sources":["game.js"],"names":[],"mappings":";;AAAA;;;;AAIA,IAAM,aAAa,EAAnB;AACA,IAAM,eAAe,EAArB;AACA,IAAM,gBAAgB,EAAtB;;AAEA,IAAI,SAAJ;AACA,IAAI,MAAJ;;AAEA,IAAI,YAAY,EAAhB;AACA,IAAI,SAAS,IAAb;AACA,IAAI,WAAW,IAAf;AACA,IAAI,QAAQ,IAAZ;AACA,IAAI,UAAU,IAAd;;AAEA,IAAI,kBAAkB,KAAtB;AACA,IAAI,QAAQ,CAAZ;AACA,IAAI,QAAQ,CAAZ;;AAEA,IAAI,eAAe,KAAnB;AACA,IAAI,cAAc,KAAlB;AACA,IAAI,cAAc,KAAlB;AACA,IAAI,YAAY,KAAhB;;AAEI;AACA,SAAS,KAAT,GAAgB;;AAEZ,gBAAY,SAAS,cAAT,CAAwB,UAAxB,CAAZ;AACA,aAAS,UAAU,UAAV,CAAqB,IAArB,CAAT;;AAEA,WAAO,SAAP,CAAiB,CAAjB,EAAoB,CAApB,EAAuB,UAAU,KAAjC,EAAwC,UAAU,MAAlD;;AAEA,eAAW,IAAI,QAAJ,CAAa,CAAb,EAAgB,EAAC,GAAE,CAAH,EAAM,GAAE,CAAR,EAAW,OAAM,UAAU,KAA3B,EAAkC,QAAO,UAAU,MAAnD,EAAhB,CAAX;;AAEA,cAAU,CAAV,IAAe,IAAI,IAAJ,EAAf;;AATY;AAAA;AAAA;;AAAA;AAWZ,6BAAgB,SAAhB;AAAA,gBAAQ,IAAR;AAA2B,iBAAK,IAAL;AAA3B;AAXY;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;AAaZ,aAAS,IAAI,KAAJ,CAAU,EAAC,OAAO,YAAR,EAAsB,QAAQ,aAA9B;AACf,WAAE,CAAC,UAAU,KAAV,GAAgB,YAAjB,IAA+B,CADlB,EACqB,GAAE,UAAU,MAAV,GAAiB,aADxC;AAEf,cAAK,QAFU,EAEA,SAAS,CAAC,CAFV,EAAV,CAAT;AAGA,WAAO,IAAP;;AAEA,YAAQ,CAAR;AACA,YAAQ,IAAI,KAAJ,EAAR;AACA,UAAM,OAAN,CAAc,KAAd;AACA,UAAM,IAAN;;AAEA,aAAS,cAAT,CAAwB,OAAxB,EAAiC,SAAjC,GAA6C,YAAU,KAAvD;;AAEA;AACA;AACA;AACH;;AAED;AACA,SAAS,UAAT,GAAqB;AACjB,sBAAkB,CAAC,eAAnB;AACA;AACH;;AAED,SAAS,IAAT,GAAgB;AACd;AACA,UAAM,WAAN;AACA;AACD;;AAEF,SAAS,GAAT,GAAc;AACT,sBAAkB,KAAlB;AACA,UAAM,OAAN,CAAc,EAAE,KAAhB;AACA,WAAO,KAAP;AACA,sBAAkB,IAAlB;AACA;AACA,sBAAkB,KAAlB;AACA,WAAO,IAAP,GAAc,oBAAd;AACA,WAAO,SAAP,GAAmB,SAAnB;AACA,WAAO,SAAP,GAAmB,QAAnB;AACA,WAAO,QAAP,CAAgB,UAAQ,KAAxB,EAA+B,UAAU,KAAV,GAAgB,CAA/C,EAAkD,UAAU,MAAV,GAAiB,CAAnE;AACH;;AAID;AACA;AACA,SAAS,UAAT,GAAqB;AACjB,aAAS,KAAT;AACA,aAAS,MAAT,CAAgB,MAAhB;;AAFiB;AAAA;AAAA;;AAAA;AAIjB,8BAAa,SAAb,mIAAuB;AAAA,gBAAf,CAAe;;AACnB,qBAAS,MAAT,CAAgB,CAAhB;AACH;AANgB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;AAAA;AAAA;AAAA;;AAAA;AAOjB,8BAAiB,MAAM,MAAvB,mIAA8B;AAAA,gBAAtB,KAAsB;;AAC1B,qBAAS,MAAT,CAAgB,KAAhB;AACH;AATgB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAUpB;;AAED,SAAS,OAAT,GAAkB;AACd;AADc;AAAA;AAAA;;AAAA;AAEd,8BAAgB,SAAhB;AAAA,gBAAQ,IAAR;AAA2B,iBAAK,OAAL;AAA3B,SAFc,CAId;AAJc;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;AAKd,QAAG,gBAAgB,OAAO,CAAP,GAAW,UAAU,KAAV,GAAgB,OAAO,KAArD,EAA4D;AACxD,eAAO,CAAP,IAAY,CAAZ;AACH,KAFD,MAEM,IAAG,eAAe,OAAO,CAAP,GAAW,CAA7B,EAAgC;AAClC,eAAO,CAAP,IAAY,CAAZ;AACH,KAFK,MAEA,IAAG,SAAH,EAAa;AACf;AACH,KAFK,MAEA,IAAG,WAAH,EAAe;AACjB;AACH;AACJ;;AAED;AACA;AACA,SAAS,IAAT,GAAe;AACX,QAAG,CAAC,eAAJ,EAAoB;AAChB,6BAAqB,OAArB;AACH,KAFD,MAEK;AACD,eAAO,SAAP,CAAiB,CAAjB,EAAoB,CAApB,EAAuB,UAAU,KAAjC,EAAwC,UAAU,MAAlD;;AAEA;;AAEA;;AALC;AAAA;AAAA;;AAAA;AAOD,kCAAgB,SAAhB;AAAA,oBAAQ,IAAR;;AACI,qBAAK,IAAL;AADJ;AAPC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;AAUD,eAAO,IAAP;AACA,cAAM,IAAN;;AAEA,iBAAS,cAAT,CAAwB,OAAxB,EAAiC,SAAjC,GAA6C,YAAU,KAAvD;;AAEA,kBAAU,sBAAsB,IAAtB,CAAV;AACH;AACJ;;AAED,SAAS,gBAAT,CAA0B,SAA1B,EAAqC,cAArC,EAAqD,KAArD;AACA,SAAS,gBAAT,CAA0B,OAA1B,EAAmC,YAAnC,EAAiD,KAAjD;;AAEA,SAAS,cAAT,CAAwB,CAAxB,EAA2B;AACvB,QAAG,EAAE,OAAF,IAAa,EAAhB,EAAoB;AAAE;AAClB,uBAAe,IAAf;AACH,KAFD,MAEM,IAAG,EAAE,OAAF,IAAa,EAAhB,EAAoB;AAAE;AACxB,sBAAc,IAAd;AACH,KAFK,MAEA,IAAG,EAAE,OAAF,IAAa,EAAb,IAAmB,EAAE,MAAF,IAAY,SAAS,IAA3C,EAAgD;AAAE;AACpD,UAAE,cAAF;AACH,KAFK,MAEA,IAAG,EAAE,OAAF,IAAa,EAAhB,EAAmB;AAAE;AACvB;AACA,oBAAY,IAAZ;AACH,KAHK,MAGA,IAAG,EAAE,OAAF,IAAa,EAAhB,EAAmB;AAAE;AACvB,sBAAc,IAAd;AACH;AACJ;;AAED,SAAS,YAAT,CAAsB,CAAtB,EAAyB;AACrB,QAAG,EAAE,OAAF,IAAa,EAAhB,EAAoB;AAAE;AAClB,uBAAe,KAAf;AACH,KAFD,MAEM,IAAG,EAAE,OAAF,IAAa,EAAhB,EAAoB;AAAE;AACxB,sBAAc,KAAd;AACH,KAFK,MAEA,IAAG,EAAE,OAAF,IAAa,EAAhB,EAAmB;AAAE;AACvB,UAAE,cAAF;AACA;AACH,KAHK,MAGA,IAAG,EAAE,OAAF,IAAa,EAAhB,EAAmB;AAAE;AACvB,oBAAY,KAAZ;AACH,KAFK,MAEA,IAAG,EAAE,OAAF,IAAa,EAAhB,EAAmB;AAAE;AACvB,sBAAc,KAAd;AACH;AACJ","file":"game-compiled.js","sourcesContent":["/**\n * Created by xaleth on 6/11/2016.\n */\n\nconst BASE_POINT = 25;\nconst PADDLE_WIDTH = 75;\nconst PADDLE_HEIGHT = 10;\n\nvar BB_canvas;\nvar BB_ctx;\n\nvar gameBalls = [];\nvar paddle = null;\nvar quadTree = null;\nvar board = null;\nvar frameID = null;\n\nvar BrickBreak_play = false;\nvar level = 1;\nvar score = 0;\n\nvar rightPressed = false;\nvar leftPressed = false;\nvar downPressed = false;\nvar upPressed = false;\n\n    //Sets up initial variables and draws game for start view\n    function setUp(){\n\n        BB_canvas = document.getElementById(\"myCanvas\");\n        BB_ctx = BB_canvas.getContext(\"2d\");\n\n        BB_ctx.clearRect(0, 0, BB_canvas.width, BB_canvas.height);\n\n        quadTree = new QuadTree(0, {x:0, y:0, width:BB_canvas.width, height:BB_canvas.height});\n\n        gameBalls[0] = new Ball();\n\n        for(let ball of gameBalls) ball.draw();\n\n        paddle = new Brick({width: PADDLE_WIDTH, height: PADDLE_HEIGHT,\n            x:(BB_canvas.width-PADDLE_WIDTH)/2, y:BB_canvas.height-PADDLE_HEIGHT,\n            name:\"paddle\", numHits: -1});\n        paddle.draw();\n\n        level = 1;\n        board = new Board();\n        board.levelUp(level);\n        board.draw();\n\n        document.getElementById(\"score\").innerHTML = \"Score: \"+score;\n\n        //Adds all objects (ball(s), paddle(s), and bricks in board) to quad tree,\n        //which is used to help efficiently check for collisions\n        updateQuad();\n    }\n\n    //Play/Pause Game\n    function playNpause(){\n        BrickBreak_play = !BrickBreak_play;\n        draw();\n    }\n\n    function lose() {\n      playNpause();\n      alert(\"Game Over\");\n      setUp();\n    }\n\n   function win(){\n        BrickBreak_play = false;\n        board.levelUp(++level);\n        paddle.reset();\n        BrickBreak_play = true;\n        draw();\n        BrickBreak_play = false;\n        BB_ctx.font = \"30px Comic Sans MS\";\n        BB_ctx.fillStyle = \"#00ff00\";\n        BB_ctx.textAlign = \"center\";\n        BB_ctx.fillText(\"LvL: \"+level, BB_canvas.width/2, BB_canvas.height/2);\n    }\n\n\n\n    //Reconfigures QuadTree at each interval (called in draw())\n    //clears and re-adds all objects within the game\n    function updateQuad(){\n        quadTree.clear();\n        quadTree.insert(paddle);\n\n        for(let b of gameBalls){\n            quadTree.insert(b);\n        }\n        for(let brick of board.bricks){\n            quadTree.insert(brick);\n        }\n    }\n\n    function physics(){\n        //Ball Physics: collision detection between walls, bricks, paddle(s)\n        for(let ball of gameBalls) ball.physics();\n\n        //Paddle movement\n        if(rightPressed && paddle.x < BB_canvas.width-paddle.width) {\n            paddle.x += 7;\n        }else if(leftPressed && paddle.x > 0) {\n            paddle.x -= 7;\n        }else if(upPressed){\n            //for later\n        }else if(downPressed){\n            //for later\n        }\n    }\n\n    //updates quadtree, moves objects based on physics calculations\n    //and draws all objects in game (paddle(s), ball(s), bricks\n    function draw(){\n        if(!BrickBreak_play){\n            cancelAnimationFrame(frameID);\n        }else{\n            BB_ctx.clearRect(0, 0, BB_canvas.width, BB_canvas.height);\n\n            updateQuad();\n\n            physics();\n\n            for(let ball of gameBalls)\n                ball.draw();\n\n            paddle.draw();\n            board.draw();\n\n            document.getElementById(\"score\").innerHTML = \"Score: \"+score;\n\n            frameID = requestAnimationFrame(draw);\n        }\n    }\n\n    document.addEventListener(\"keydown\", keyDownHandler, false);\n    document.addEventListener(\"keyup\", keyUpHandler, false);\n\n    function keyDownHandler(e) {\n        if(e.keyCode == 39) { //right arrow key\n            rightPressed = true;\n        }else if(e.keyCode == 37) { //left arrow key\n            leftPressed = true;\n        }else if(e.keyCode == 32 && e.target == document.body){ //spacebar\n            e.preventDefault();\n        }else if(e.keyCode == 38){ //up arrow key\n            //win();\n            upPressed = true;\n        }else if(e.keyCode == 40){ //down arrow key\n            downPressed = true;\n        }\n    }\n\n    function keyUpHandler(e) {\n        if(e.keyCode == 39) { //right arrow key\n            rightPressed = false;\n        }else if(e.keyCode == 37) { //left arrow key\n            leftPressed = false;\n        }else if(e.keyCode == 32){ //spacebar\n            e.preventDefault();\n            playNpause();\n        }else if(e.keyCode == 38){ //up arrow key\n            upPressed = false;\n        }else if(e.keyCode == 40){ //down arrow key\n            downPressed = false;\n        }\n    }\n\n\n\n\n\n\n\n\n\n\n\n"]}